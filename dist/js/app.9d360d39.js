(function(){"use strict";var t={6974:function(t,e,i){var s=i(144),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},n=[],l=i(9669),r=i.n(l),o=i(4720),u=i.n(o),c=i(8345),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100vh","min-height":"500px"}},[i("el-header",{staticClass:"homeHeader"},[i("div",{staticClass:"title"},[t._v("小真寻的后台捏")]),i("router-link",{staticClass:"to-myapi",attrs:{to:{name:"MyApi"}}},[t._v("修改api地址")])],1),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"loginContainer",attrs:{"element-loading-text":"正在登录...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",rules:t.rules,model:t.loginForm},nativeOn:{submit:function(t){t.preventDefault()}}},[i("h3",{staticClass:"loginTitle"},[t._v("真寻的后台")]),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary","native-type":"submit"},on:{click:t.submitLogin}},[t._v("登录")])],1)],1)},d=[],h=i(129),m=i.n(h),g={name:"Login",created(){Di()},data(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loading:!1}},methods:{submitLogin(){this.$refs.loginForm.validate((t=>{if(!t)return this.$message.error("请输入所有字段！"),!1;this.loading=!0,this.postRequest("/webui/login",m().stringify({username:this.loginForm.username,password:this.loginForm.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{if(t){const e=t.token_type+" "+t.access_token;Ni&&zi("tokenStr"),Ri("tokenStr",e);let i=this.$route.query.redirect;this.$router.replace("/"==i||void 0==i?"/home":i)}})),this.loading=!1}))}}},v=g,_=i(1001),f=(0,_.Z)(v,p,d,!1,null,null,null),y=f.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-header",{staticClass:"homeHeader"},[i("div",{staticClass:"title"},[t._v("小真寻的后台捏")]),i("router-link",{staticClass:"to-myapi",attrs:{to:{name:"MyApi"}}},[t._v("修改api地址")]),i("div",{staticClass:"menu-btn",on:{click:t.showmenu}},[i("div",{staticClass:"btn-logo",class:{show:t.asideshow}}),i("div",{staticClass:"cover",class:{covershow:t.covershow}})])],1),i("el-container",{staticClass:"layoutbox"},[i("el-aside",{staticClass:"left-aside",class:{show:t.asideshow}},[i("div",{staticClass:"myscrollbar"},[i("el-menu",{staticClass:"border-right-none",on:{select:t.handleSelect}},[i("el-menu-item",{attrs:{index:"/plugin"}},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("插件列表")])]),i("el-menu-item",{attrs:{index:"/group"}},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("群组管理")])]),i("el-menu-item",{attrs:{index:"/request"}},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("请求管理")])]),i("el-menu-item",{attrs:{index:"/system"}},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("系统信息")])])],1)],1)]),i("el-main",[i("router-view",{staticClass:"homeRouterView"})],1)],1)],1)],1)},w=[],x={name:"Home",data(){return{asideshow:!1,covershow:!1}},methods:{handleSelect(t){this.asideshow=!1,this.covershow=!1,this.$router.replace(t)},showmenu(){this.asideshow=!this.asideshow,this.covershow=!this.covershow}}},k=x,C=(0,_.Z)(k,b,w,!1,null,null,null),S=C.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-box"},[i("div",{staticClass:"bg-img"},[i("div",{staticClass:"bg-cover"},[i("div",{staticClass:"api-box"},[i("div",{staticClass:"api-title",class:{rightshow:t.rightshow}},[i("span",[t._v("真寻的api地址")])]),i("div",{staticClass:"api-input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.apiurl,expression:"apiurl",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入你的真寻api地址",spellcheck:"false"},domProps:{value:t.apiurl},on:{focus:t.inpOnfocus,blur:[t.inpOnBlur,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.apiurl=e.target.value.trim())}}})]),t._m(0),i("div",{staticClass:"api-btn"},[i("button",{staticClass:"goback",on:{click:t.goBack}},[t._v("返回")]),i("button",{ref:"myapi",staticClass:"myapi",on:{click:function(e){return t.changeUrl(e)}}},[t._v("修改")])])])])])])},$=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tips"},[i("p",[t._v("注意事项：")]),i("p",[t._v("①开发环境中修改api地址一样生效，即覆盖代理服务器的转发")]),i("p",[t._v("②如果生产环境部署的资源和真寻本体"),i("ins",[i("b",[t._v("在")])]),t._v("同一个机器上，则输入空。如果修改过真寻的默认端口，则输入"),i("ins",[i("b",[t._v("“http://localhost:你的真寻端口”")])])]),i("p",[t._v("③如果生产环境部署的资源和真寻本体"),i("ins",[i("b",[t._v("不在")])]),t._v("同一个机器上，则输入你的服务器接口地址以及真寻的端口。最后记得修改防火墙设置哦")])])}];let L,P,q,M,O,T,R,N,z,D,A,F,B,V,Z,I,G=1,H=[],U=[],J=[],W=.017453293,j=0;function X(t){L=document.createElement("canvas"),document.body.appendChild(L),L.style.position="fixed",L.style.top=0,L.style.zIndex=1e3,L.style.pointerEvents="None",L.style.width=window.innerWidth+"px",L.style.height=window.innerHeight+"px",P=L.getContext("2d"),q=window.devicePixelRatio,L.width=L.clientWidth*q,L.height=L.clientHeight*q,N=t.speed||[10,100],V=new st(3),Z=new st(1.5),O=void 0==t.hasBounce||t.hasBounce;var e=270+Math.atan(L.width/L.height)/W,i=270-Math.atan(L.width/L.height)/W;H[0]=i+20,H[1]=e-20,z=t.wind_direction>e?e:t.wind_direction<i?i:t.wind_direction||270,T=t.maxNum||1e3,R=t.numLevel||10,D=t.drop_chance||.1,A=t.gravity||.163,Y(),window.addEventListener("resize",Q,!1),j=window.requestAnimFrame(K),t.cloud&&(I=new Image,I.onload=nt,I.src="https://luckyclover.top/static/cloud.png"),this.clearRain=()=>{document.body.removeChild(L),window.removeEventListener("resize",Q),window.cancelAnimationFrame(j)}}function Y(){P.lineWidth=1.5*q,P.fillStyle="rgba(223,223,223,0.6)"}function K(){P.clearRect(0,0,L.width,L.height);let t=U.length;while(t--){let e=U[t];if(e.update(),e.pos.y>=L.height){if(O){let t=Math.round(4+4*Math.random());while(t--)J.push(new it(e.pos.x,L.height))}U.splice(t,1)}e.draw()}if(O){t=J.length;while(t--){let e=J[t];e.update(),e.draw(),e.pos.y>L.height&&J.splice(t,1)}}let e=H[0]+Z.get()*(H[1]-H[0])/100,i=N[0]+V.get()*(N[1]-N[0])/100;if(U.length<T&&Math.random()<D){let t=R;for(let s=0;s<t;s++)U.push(new et(e,i))}j=window.requestAnimFrame(K)}function Q(){L.style.width=window.innerWidth+"px",L.style.height=window.innerHeight+"px",L.width=L.clientWidth*q,L.height=L.clientHeight*q,Y()}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/30)};var tt=function(t,e){this.x=t||0,this.y=e||0};tt.prototype.add=function(t){return null!=t.x&&null!=t.y?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=t),this},tt.prototype.copy=function(){return new tt(this.x,this.y)};var et=function(t,e){z=t;var i=Math.tan((270-z)*W)*L.height;this.pos=new tt(i>=0?Math.random()*(L.width+i):Math.random()*(L.width-i)+i,0),this.speed=e*q,this.prev=this.pos,M=z*W,F=this.speed*Math.cos(M),G=F,B=-this.speed*Math.sin(M),this.vel=new tt(F,B)};et.prototype.update=function(){this.prev=this.pos.copy(),A&&(this.vel.y+=A),this.pos.add(this.vel),this.setStyle()},et.prototype.setStyle=function(){var t=P.createLinearGradient(this.prev.x,this.prev.y,this.pos.x,this.pos.y);t.addColorStop(0,"rgba(0,0,0,0"),t.addColorStop(.5,"rgba(223,223,223,0.6)"),P.strokeStyle=t},et.prototype.draw=function(){P.beginPath(),P.moveTo(this.prev.x,this.prev.y),P.lineTo(this.pos.x,this.pos.y),P.stroke()};var it=function(t,e){var i=7*Math.random(),s=Math.PI+Math.random()*Math.PI;this.pos=new tt(t,e),this.radius=.2+.8*Math.random(),this.vel=new tt(Math.cos(s)*i,Math.sin(s)*i)};it.prototype.update=function(){this.vel.y+=A,this.vel.x*=.95,this.vel.y*=.95,this.pos.add(this.vel)},it.prototype.draw=function(){P.beginPath(),P.arc(this.pos.x,this.pos.y,this.radius*q,0,2*Math.PI),P.fill()};var st=function(t){this.s=t,this.value=50};st.prototype.get=function(){let t=1+-2*Math.random();return t*=this.s,this.value+=t,(this.value>100||this.value<0)&&(this.value-=1.1*t),this.value};class at{constructor(t){this.x=0,this.y=0,this.xpos=0,this.ypos=0,this.zpos=0,this.scaleX=1,this.scaleY=1,this.visible=!0,Object.assign(this,t)}draw(t){t.save(),t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.drawImage(this.image,0,0,256,120),t.restore()}}function nt(){let t=document.createElement("canvas");document.body.appendChild(t),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.pointerEvents="None",t.style.width=window.innerWidth+"px",t.style.height="135px";const e=t.width=t.clientWidth*q,i=t.height=t.clientHeight*q,s=t.getContext("2d"),a=l(24),n=1e3;function l(t){const s=[];while(t--)s.push(new at({image:I,xpos:Math.random()*e*2-e,ypos:Math.random()*i-2*i/3,zpos:400*Math.random()-200}));return s}function r(t){let i=t.xpos+.02*G;i>e?i=-e:i<-e&&(i=e),t.xpos=i}function o(t){if(t.zpos>-n){const i=n/(n+t.zpos);t.scaleX=t.scaleY=i,t.x=e/2+t.xpos*i,t.y=t.ypos*i,t.visible=!0}else t.visible=!1}function u(t){r(t),o(t)}function c(t,e){return e.zpos-t.zpos}function p(t){t.visible&&t.x<e&&t.draw(s)}(function t(){window.requestAnimationFrame(t),s.clearRect(0,0,e,i),a.sort(c),a.forEach(u),a.forEach(p)})()}var lt={name:"MyApi",created(){this.rainClass=new X({speed:[2,40],hasBounce:!0,wind_direction:340,gravity:.05,maxNum:40,numLevel:5,drop_chance:.4,cloud:!1})},data(){return{rainClass:null,rightshow:!1,apiurl:$i(),fromPageName:"",fromPagePath:"/"}},beforeRouteEnter(t,e,i){i((t=>{t.fromPage=e.path,t.fromPageName=e.name}))},methods:{goBack(){this.fromPageName?this.$router.replace(this.fromPage):this.$router.replace("/")},changeUrl(t){let e=t.clientX-this.$refs.myapi.getBoundingClientRect().left,i=t.clientY-this.$refs.myapi.getBoundingClientRect().top,s=document.createElement("span");s.classList.add("spanAni"),s.style.left=e+"px",s.style.top=i+"px",this.$refs.myapi.appendChild(s),setTimeout((()=>{s.remove(),Ei(this.apiurl),this.$router.replace("/")}),500)},inpOnfocus(){this.rightshow=!0},inpOnBlur(){this.rightshow=!1}},beforeDestroy(){this.rainClass.clearRain()}},rt=lt,ot=(0,_.Z)(rt,E,$,!1,null,"a94c58a4",null),ut=ot.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"普通插件",name:"NormalPlugin",lazy:!0}},[i("NormalPlugin")],1),i("el-tab-pane",{attrs:{label:"管理员插件",name:"AdminPlugin",lazy:!0}},[i("AdminPlugin")],1),i("el-tab-pane",{attrs:{label:"超级用户插件",name:"SuperPlugin",lazy:!0}},[i("SuperPlugin")],1),i("el-tab-pane",{attrs:{label:"其他插件",name:"OtherPlugin",lazy:!0}},[i("OtherPlugin")],1)],1)],1)},pt=[],dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PluginListTemplate",{attrs:{"plugin-type":t.type}})],1)},ht=[],mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box-background"},[t._l(t.pluginEditList,(function(e,s){return i("div",{key:s,staticClass:"card-box",class:{pstatus:!e.plugin_manager.status}},[i("div",{staticClass:"plugin-version"},[t._v(t._s("v"+e.plugin_manager.version))]),i("div",{staticClass:"author-box",class:{flexd:"normal"!=t.pluginType}},[i("div",{staticClass:"plugin-name"},[t._v(t._s(e.plugin_manager.plugin_name))]),i("div",{staticClass:"author-name"},[t._v(t._s("@"+e.plugin_manager.author))])]),i("div",{staticClass:"plugin-model-name"},[t._v(t._s("("+e.model+")"))]),i("div",{staticClass:"options-box"},[e.plugin_settings?i("div",{staticClass:"plugin-status",class:{disabled:!t.isEdit[s]}},[t._v("默认开关 "),i("div",{staticClass:"switch",staticStyle:{"margin-left":"1rem"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin_settings.default_status,expression:"plugin.plugin_settings.default_status"}],attrs:{id:"switch-"+s,type:"checkbox"},domProps:{checked:Array.isArray(e.plugin_settings.default_status)?t._i(e.plugin_settings.default_status,null)>-1:e.plugin_settings.default_status},on:{change:function(i){var s=e.plugin_settings.default_status,a=i.target,n=!!a.checked;if(Array.isArray(s)){var l=null,r=t._i(s,l);a.checked?r<0&&t.$set(e.plugin_settings,"default_status",s.concat([l])):r>-1&&t.$set(e.plugin_settings,"default_status",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e.plugin_settings,"default_status",n)}}}),i("label",{attrs:{for:"switch-"+s}})])]):t._e(),i("div",{staticClass:"plugin-switch",class:{disabled:!t.isEdit[s],pbnn:"normal"!=t.pluginType}},[i("PlayButton",{attrs:{pluginSta:e.plugin_manager.status,tindex:s},on:{func:t.getMsgFormPlayButton}})],1),e.plugin_settings?i("div",{staticClass:"plugin-super",class:{disabled:!t.isEdit[s]}},[t._v("限制超级用户 "),i("div",{staticClass:"switch",staticStyle:{"margin-left":"1rem"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin_settings.limit_superuser,expression:"plugin.plugin_settings.limit_superuser"}],attrs:{id:"switch1-"+s,type:"checkbox"},domProps:{checked:Array.isArray(e.plugin_settings.limit_superuser)?t._i(e.plugin_settings.limit_superuser,null)>-1:e.plugin_settings.limit_superuser},on:{change:function(i){var s=e.plugin_settings.limit_superuser,a=i.target,n=!!a.checked;if(Array.isArray(s)){var l=null,r=t._i(s,l);a.checked?r<0&&t.$set(e.plugin_settings,"limit_superuser",s.concat([l])):r>-1&&t.$set(e.plugin_settings,"limit_superuser",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e.plugin_settings,"limit_superuser",n)}}}),i("label",{attrs:{for:"switch1-"+s}})])]):t._e(),i("div",{staticStyle:{display:"flex","align-items":"center"}},[e.plugin_settings?i("div",{staticClass:"plugin-cost",class:{disabled:!t.isEdit[s]}},[t._v("花费 "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin_settings.cost_gold,expression:"plugin.plugin_settings.cost_gold"}],staticClass:"form__input",attrs:{type:"text",placeholder:"0"},domProps:{value:e.plugin_settings.cost_gold},on:{input:function(i){i.target.composing||t.$set(e.plugin_settings,"cost_gold",i.target.value)}}})])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.plugin_manager.block_type,expression:"plugin.plugin_manager.block_type"}],staticClass:"block-type"},[t._v("禁用类型")])]),i("div",{staticStyle:{display:"flex","align-items":"center"}},[e.plugin_settings?i("div",{staticClass:"plugin-type",class:{disabled:!t.isEdit[s]}},[t._v("类型 "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin_settings.plugin_type[0],expression:"plugin.plugin_settings.plugin_type[0]"}],staticClass:"form__input",attrs:{type:"text",placeholder:"无"},domProps:{value:e.plugin_settings.plugin_type[0]},on:{input:function(i){i.target.composing||t.$set(e.plugin_settings.plugin_type,0,i.target.value)}}})])]):t._e(),i("SegmentedControl",{directives:[{name:"show",rawName:"v-show",value:e.plugin_manager.block_type,expression:"plugin.plugin_manager.block_type"}],attrs:{pluginType:t.pluginType,block_type:e.plugin_manager.block_type,tindex:s},on:{func:t.getMsgFormSegmentedControl}})],1),e.plugin_settings?i("div",{staticClass:"plugin-other-name",class:{disabled:!t.isEdit[s]}},[t._v("别名 "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin_settings.cmd,expression:"plugin.plugin_settings.cmd"}],staticClass:"form__input",attrs:{type:"text",placeholder:"无"},domProps:{value:e.plugin_settings.cmd},on:{input:function(i){i.target.composing||t.$set(e.plugin_settings,"cmd",i.target.value)}}})])]):t._e(),e.plugin_settings?i("div",{staticClass:"plugin-Authority",class:{disabled:!t.isEdit[s]}},[t._v("群权限 "),i("RateSlider",{attrs:{level:e.plugin_settings.level,tindex:s},on:{func:t.getMsgFormRateSlider}})],1):t._e()]),t.isEdit[s]?t._e():i("div",{staticClass:"edit-btn",class:{"no-setting":!e.plugin_settings}},[e.plugin_config?i("div",{staticClass:"btn btn__primary",on:{click:function(i){return t.showEditOpt(e.plugin_config,s,e.plugin_manager.plugin_name)}}},[i("p",[t._v("配置项")])]):t._e(),i("div",{staticClass:"btn btn__secondary",on:{click:function(e){return t.isEdit.splice(s,1,!0)}}},[i("p",[t._v("编辑")])])]),t.isEdit[s]?i("div",{staticClass:"edit-btn",class:{"no-setting":!e.plugin_settings}},[i("div",{staticClass:"btn btn__primary",on:{click:function(e){return t.doUpdate(s)}}},[i("p",[t._v("保存")])]),i("div",{staticClass:"btn btn__secondary",on:{click:function(e){return t.cancelEdit(s)}}},[i("p",[t._v("取消")])])]):t._e()])})),t.editOptShow?i("EditOpt",{attrs:{editOptData:t.editOpt},on:{close:t.closeEditOptShow,changeOpt:t.changeEditOpt}}):t._e()],2)},gt=[],vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider"},[i("div",{ref:"slider__box",staticClass:"slider__box"},[i("span",{ref:"slider__btn",staticClass:"slider__btn"}),i("span",{ref:"slider__color",staticClass:"slider__color"})]),i("span",{ref:"slider__tooltip",staticClass:"slider__tooltip"},[t._v(t._s(t.alevel))])])},_t=[],ft={name:"RateSlider",props:{level:Number,tindex:Number},data(){return{alevel:this.level,container:null,btn:null,color:null,tooltip:null,onMouseMove:null,onMouseUp:null}},watch:{level(t){this.alevel=t,this.btnInit(this.container,this.btn,this.alevel+1)}},mounted(){this.container=this.$refs.slider__box,this.btn=this.$refs.slider__btn,this.color=this.$refs.slider__color,this.tooltip=this.$refs.slider__tooltip,this.btnInit(this.container,this.btn,this.alevel),this.dragElement(this.container,this.btn)},methods:{btnInit(t,e,i){let s=t.getBoundingClientRect(),a=i*s.width/10;this.color.style.width=a+"px",e.style.left=a-12+"px"},dragElement(t,e){this.onMouseMove=i=>{let s=t.getBoundingClientRect(),a=i.pageX-s.left+10;a>s.width&&(a=s.width),a<0&&(a=0),e.x=a-10,e.style.left=e.x+"px";let n=(e.x+15)/s.width*10;this.color.style.width=a+"px",this.tooltip.style.opacity=1,this.alevel=Math.round(n)-1},this.onMouseUp=()=>{window.removeEventListener("mousemove",i),this.$emit("func",this.tindex,this.alevel)},this.onTouchEnd=()=>{this.$emit("func",this.tindex,this.alevel),window.removeEventListener("touchmove",a)},this.onTouchMove=i=>{i.preventDefault();const s=i.touches[0];let a=t.getBoundingClientRect(),n=s.pageX-a.left+10;n>a.width&&(n=a.width),n<0&&(n=0),e.x=n-10,e.style.left=e.x+"px";let l=(e.x+15)/a.width*10;this.color.style.width=n+"px",this.tooltip.style.opacity=1,this.alevel=Math.round(l)-1};let i=this.onMouseMove,s=this.onMouseUp,a=this.onTouchMove,n=this.onTouchEnd;t.addEventListener("mousedown",(t=>{i(t),window.addEventListener("mousemove",i,{passive:!1}),window.addEventListener("mouseup",s,{passive:!1})})),t.addEventListener("touchstart",(e=>{a(e),t.addEventListener("touchend",n,{passive:!1}),t.addEventListener("touchmove",a,{passive:!1})}),{passive:!1})}}},yt=ft,bt=(0,_.Z)(yt,vt,_t,!1,null,"5bd2333e",null),wt=bt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"circle"},[i("span",{staticClass:"circle__btn",class:{shadow:!t.btnboolean},on:{click:t.changeSta}},[i("ion-icon",{staticClass:"pause",class:{"icon-visibility":!t.btnboolean},attrs:{name:"pause"}}),i("ion-icon",{staticClass:"play",class:{"icon-visibility":!t.btnboolean},attrs:{name:"play"}})],1),i("span",{staticClass:"circle__back-1",class:{paused:!t.btnboolean}}),i("span",{staticClass:"circle__back-2",class:{paused:!t.btnboolean}})])])},kt=[],Ct={name:"PlayButton",props:{pluginSta:Boolean,tindex:Number},data(){return{btnboolean:this.pluginSta}},watch:{pluginSta(t){this.btnboolean=t}},mounted(){},methods:{changeSta(){this.btnboolean=!this.btnboolean,this.$emit("func",this.tindex,this.btnboolean)}}},St=Ct,Et=(0,_.Z)(St,xt,kt,!1,null,"5de07dda",null),$t=Et.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"segmented-control",on:{change:t.changeValue}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkValue,expression:"checkValue"}],staticClass:"tab-1",attrs:{type:"radio",name:"segmented-control",id:t.pluginType+"segmented-control-"+t.tindex+"-1",value:"全部"},domProps:{checked:t._q(t.checkValue,"全部")},on:{change:function(e){t.checkValue="全部"}}}),i("label",{staticClass:"segmented-control__1",attrs:{for:t.pluginType+"segmented-control-"+t.tindex+"-1"}},[i("p",[t._v("全部")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkValue,expression:"checkValue"}],staticClass:"tab-2",attrs:{type:"radio",name:"segmented-control",id:t.pluginType+"segmented-control-"+t.tindex+"-2",value:"群组"},domProps:{checked:t._q(t.checkValue,"群组")},on:{change:function(e){t.checkValue="群组"}}}),i("label",{staticClass:"segmented-control__2",attrs:{for:t.pluginType+"segmented-control-"+t.tindex+"-2"}},[i("p",[t._v("群组")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkValue,expression:"checkValue"}],staticClass:"tab-3",attrs:{type:"radio",name:"segmented-control",id:t.pluginType+"segmented-control-"+t.tindex+"-3",value:"私聊"},domProps:{checked:t._q(t.checkValue,"私聊")},on:{change:function(e){t.checkValue="私聊"}}}),i("label",{staticClass:"segmented-control__3",attrs:{for:t.pluginType+"segmented-control-"+t.tindex+"-3"}},[i("p",[t._v("私聊")])]),i("div",{staticClass:"segmented-control__color"})])},Pt=[],qt={name:"SegmentedControl",props:["pluginType","block_type","tindex"],data(){return{checkValue:this.block_type}},watch:{block_type(t){this.checkValue=t}},mounted(){},methods:{changeValue(){this.$emit("func",this.tindex,this.checkValue)}}},Mt=qt,Ot=(0,_.Z)(Mt,Lt,Pt,!1,null,"74fdc9be",null),Tt=Ot.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"optbox"},[i("div",{staticClass:"title"},[i("span",{staticClass:"tspan"},[t._v(t._s(t.editOptData.pluginName))])]),t._m(0),i("div",{staticClass:"scroll-box"},t._l(t.editOptDataScoped,(function(e){return i("div",{key:e.id,staticClass:"flex-box opt-item"},[i("div",[i("span",[t._v(t._s(e.key))])]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"optdata.value"}],staticClass:"form__input",attrs:{type:"text",placeholder:""},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}})]),i("div",[i("span",[t._v(t._s(e.help_))])]),i("div",[i("span",[t._v(t._s(e.default_value))])])])})),0),i("div",{staticClass:"edit-btn"},[i("div",{staticClass:"btn btn__primary",on:{click:function(e){return e.stopPropagation(),t.changeOpt.apply(null,arguments)}}},[i("p",[t._v("保存")])]),i("div",{staticClass:"btn btn__secondary",on:{click:function(e){return e.stopPropagation(),t.closeEditOpt.apply(null,arguments)}}},[i("p",[t._v("取消")])])])]),i("div",{staticClass:"cover",on:{click:function(e){return e.stopPropagation(),t.closeEditOpt.apply(null,arguments)}}})])},Nt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-box opt-item opt-title"},[i("div",[i("span",[t._v("键")])]),i("div",[i("span",[t._v("值")])]),i("div",[i("span",[t._v("说明")])]),i("div",[i("span",[t._v("默认值")])])])}],zt={name:"EditOpt",props:["editOptData"],data(){return{editOptDataScoped:this.editOptData.data}},mounted(){},methods:{closeEditOpt(){this.$emit("close")},changeOpt(){this.editOptDataScoped.forEach((t=>{"string"==typeof t.value&&(t.value=t.value.replace("，",","))})),this.$emit("changeOpt",this.editOptDataScoped,this.editOptData.index)}}},Dt=zt,At=(0,_.Z)(Dt,Rt,Nt,!1,null,"eb28d904",null),Ft=At.exports,Bt={name:"PluginListTemplate",components:{RateSlider:wt,PlayButton:$t,SegmentedControl:Tt,EditOpt:Ft},props:["pluginType"],data(){return{editOpt:{pluginName:"",data:{},index:-1},editOptShow:!1,isEdit:[],pluginSta:!0,pluginEditList:[],pluginList:[],dialogVisible:!1,configDialogVisible:!1,pluginData:{model:"",plugin_settings:{level:0,default_status:!1,limit_superuser:null,cmd:"",cost_gold:0,plugin_type:""},plugin_manager:{plugin_name:"",status:null,error:null,version:0,author:"",block_type:"all"},plugin_config:[],cd_limit:null,block_limit:null,count_limit:null},configsType:[],blockType:[{value:"all",label:"全部"},{value:"group",label:"群组"},{value:"private",label:"私聊"}]}},mounted(){Di().then((t=>{"true"==t&&this.initPluginList()}))},methods:{changeEditOpt(t,e){let i=JSON.parse(JSON.stringify(this.pluginEditList[e]));i.plugin_config=t,i.plugin_manager=null,i.plugin_settings=null,this.postRequest("/webui/plugins",i).then((t=>{t&&200==t.code?(this.$message({message:"修改成功",type:"success"}),this.initPluginList()):(t&&t.data?this.$message.error(t.data):this.$message.error("修改失败"),this.initPluginList())})),this.closeEditOptShow()},showEditOpt(t,e,i){this.editOpt.index=e,this.editOpt.data=t,this.editOptShow=!0,this.editOpt.pluginName=i},closeEditOptShow(){this.editOpt={pluginName:"",data:{},index:-1},this.editOptShow=!1},cancelEdit(t){this.isEdit.splice(t,1,!1),this.pluginEditList.splice(t,1,JSON.parse(JSON.stringify(this.pluginList[t])))},getMsgFormPlayButton(t,e){this.pluginEditList[t].plugin_manager.status=e,0!=this.pluginEditList[t].plugin_manager.status||""!=this.pluginEditList[t].plugin_manager.block_type&&null!=this.pluginEditList[t].plugin_manager.block_type?1==this.pluginEditList[t].plugin_manager.status&&(this.pluginEditList[t].plugin_manager.block_type=""):this.pluginEditList[t].plugin_manager.block_type="全部"},getMsgFormSegmentedControl(t,e){this.pluginEditList[t].plugin_manager.block_type=e},getMsgFormRateSlider(t,e){this.pluginEditList[t].plugin_settings.level=e},refresh(){this.initPluginList(),this.$message({message:"刷新成功",type:"success"})},initPluginList(){this.getRequest("/webui/plugins?type_="+this.pluginType).then((t=>{t?(this.pluginList=t.data,this.pluginEditList=JSON.parse(JSON.stringify(this.pluginList)),this.isEdit=new Array(this.pluginList.length).fill(!1)):this.$message.error("获取数据失败！")}))},showEditView(t){this.pluginData=JSON.parse(JSON.stringify(t)),""!=this.pluginData.plugin_manager.block_type&&null!=this.pluginData.plugin_manager.block_type||(this.pluginData.plugin_manager.block_type="all"),this.dialogVisible=!0},doUpdate(t){this.isEdit[t]=!1;let e=JSON.parse(JSON.stringify(this.pluginEditList[t]));e.plugin_manager.status&&(e.plugin_manager.block_type=""),e.plugin_config=null,e.plugin_settings&&e.plugin_settings.cmd&&(e.plugin_settings.cmd=e.plugin_settings.cmd.replace("，",",")),this.postRequest("/webui/plugins",e).then((t=>{t&&200==t.code?(this.$message({message:"修改成功",type:"success"}),this.initPluginList()):(t&&t.data?this.$message.error(t.data):this.$message.error("修改失败"),this.initPluginList())}))},doConfigUpdate(){let t=JSON.parse(JSON.stringify(this.pluginData));t.plugin_manager=null,t.plugin_settings=null,this.postRequest("/webui/plugins",t).then((t=>{t&&200==t.code?(this.$message({message:"修改成功",type:"success"}),this.initPluginList()):(t&&t.data?this.$message.error(t.data):this.$message.error("修改失败"),this.initPluginList())})),this.configDialogVisible=!1}}},Vt=Bt,Zt=(0,_.Z)(Vt,mt,gt,!1,null,"46061a9b",null),It=Zt.exports,Gt={name:"NormalPlugin",components:{PluginListTemplate:It},data(){return{type:"normal"}}},Ht=Gt,Ut=(0,_.Z)(Ht,dt,ht,!1,null,null,null),Jt=Ut.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PluginListTemplate",{attrs:{"plugin-type":t.type}})],1)},jt=[],Xt={name:"AdminPlugin",components:{PluginListTemplate:It},data(){return{type:"admin"}}},Yt=Xt,Kt=(0,_.Z)(Yt,Wt,jt,!1,null,null,null),Qt=Kt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PluginListTemplate",{attrs:{"plugin-type":t.type}})],1)},ee=[],ie={name:"SuperPlugin",components:{PluginListTemplate:It},data(){return{pluginList:[],type:"superuser"}}},se=ie,ae=(0,_.Z)(se,te,ee,!1,null,null,null),ne=ae.exports,le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PluginListTemplate",{attrs:{"plugin-type":t.type}})],1)},re=[],oe={name:"OtherPlugin",components:{PluginListTemplate:It},data(){return{type:"hidden"}}},ue=oe,ce=(0,_.Z)(ue,le,re,!1,null,null,null),pe=ce.exports,de={name:"PluginList",data(){return{activeName:"NormalPlugin"}},components:{NormalPlugin:Jt,AdminPlugin:Qt,SuperPlugin:ne,OtherPlugin:pe}},he=de,me=(0,_.Z)(he,ct,pt,!1,null,null,null),ge=me.exports,ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"群组管理",name:"GroupManage"}},[i("GroupMana")],1)],1)],1)},_e=[],fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[i("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:t.refresh}})],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.groupList}},[i("el-table-column",{attrs:{prop:"group.group_id",label:"群号",width:"150"}}),i("el-table-column",{attrs:{prop:"group.group_name",label:"群名",width:"150"}}),i("el-table-column",{attrs:{prop:"group.member_count",label:"成员数",width:"150"}}),i("el-table-column",{attrs:{prop:"group.max_member_count",label:"最大成员数",width:"150"}}),i("el-table-column",{attrs:{prop:"level",label:"群权限",width:"150"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("启用")]):i("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),i("el-table-column",{attrs:{label:"已开启被动",width:"450"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.task,(function(e){return i("span",{key:e.name,attrs:{label:e.nameZh}},[1==e.status?i("span",[t._v(t._s(e.nameZh)+",")]):t._e()])}))}}])}),i("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){return t.showEditView(e.row)}}},[t._v("编辑")])]}}])})],1),i("el-dialog",{attrs:{title:"编辑群聊",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("table",[i("tr",[i("td",[t._v("状态")]),i("td",[i("el-switch",{staticStyle:{"margin-right":"30px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用",size:"small"},model:{value:t.group.status,callback:function(e){t.$set(t.group,"status",e)},expression:"group.status"}})],1)]),i("tr",[i("td",[t._v("群权限")]),i("td",[i("el-input",{attrs:{placeholder:"",size:"small"},model:{value:t.group.level,callback:function(e){t.$set(t.group,"level",e)},expression:"group.level"}})],1)])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.doUpdate}},[t._v("确 定")])],1)])],1)},ye=[],be={name:"GroupMana",props:["pluginType"],data(){return{groupList:[],dialogVisible:!1,taskList:[],taskZhList:[],group:{group:{group_id:0},status:null,level:0}}},mounted(){Di().then((t=>{"true"==t&&this.initGroupList()}))},methods:{refresh(){this.initGroupList(),this.$message({message:"刷新成功",type:"success"})},initGroupList(){this.getRequest("/webui/group").then((t=>{t?this.groupList=t.data:this.$message.error("获取群数据失败！")}))},showEditView(t){this.group=JSON.parse(JSON.stringify(t)),this.dialogVisible=!0},doUpdate(){this.postRequest("/webui/group",this.group).then((t=>{t&&(this.$message({message:"修改成功",type:"success"}),this.initGroupList())})),this.dialogVisible=!1}}},we=be,xe=(0,_.Z)(we,fe,ye,!1,null,null,null),ke=xe.exports,Ce={name:"PluginList",data(){return{activeName:"GroupManage"}},components:{GroupMana:ke}},Se=Ce,Ee=(0,_.Z)(Se,ve,_e,!1,null,null,null),$e=Ee.exports,Le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"群组请求",name:"GroupRequestMana",lazy:!0}},[i("GroupRequestMana")],1),i("el-tab-pane",{attrs:{label:"好友请求",name:"PrivateRequestMana",lazy:!0}},[i("PrivateRequestMana")],1)],1)],1)},Pe=[],qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("RequestListTemplate",{attrs:{"request-type":t.type}})],1)},Me=[],Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[i("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:t.refresh}}),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.clear}},[t._v("清空请求")])],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.requestList}},[i("el-table-column",{attrs:{prop:"oid",label:"id",width:"50"}}),i("el-table-column",{attrs:{prop:"id",label:"qq",width:"150"}}),i("el-table-column",{attrs:{prop:"flag",label:"flag",width:"170"}}),i("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"150"}}),i("el-table-column",{attrs:{prop:"level",label:"等级",width:"100"}}),i("el-table-column",{attrs:{label:"性别",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["male"==e.row.sex?i("span",[t._v(" 男 ")]):i("span",[t._v(" 女 ")])]}}])}),i("el-table-column",{attrs:{prop:"age",label:"年龄",width:"150"}}),i("el-table-column",{attrs:{prop:"comment",label:"验证消息",width:"150"}}),"group"==t.requestType?[i("el-table-column",{attrs:{prop:"invite_group",label:"邀请入群",width:"150"}}),i("el-table-column",{attrs:{prop:"group_name",label:"群聊名称",width:"150"}})]:t._e(),i("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(i){return t.approveHandler(e.row)}}},[t._v("同意")]),i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(i){return t.refuseHandler(e.row)}}},[t._v("拒绝")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return t.deleteHandle(e.row)}}},[t._v("删除")])]}}])})],2)],1)},Te=[],Re={name:"RequestListTemplate",props:["requestType"],data(){return{requestList:[],noticeMsg:"",request:{id:null,handle:null,type:""}}},mounted(){Di().then((t=>{"true"==t&&this.initRequestList()}))},methods:{refresh(){this.initRequestList(),this.$message({message:"刷新成功",type:"success"})},initRequestList(){this.getRequest("/webui/request?type_="+this.requestType).then((t=>{t?this.requestList=t.data:this.$message.error("获取请求数据失败！")}))},clear(){this.$confirm("确认清空全部请求?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteRequest("/webui/request?type_="+this.requestType).then((t=>{t&&(this.initRequestList(),this.$message({message:"清空成功",type:"success"}))}))})).catch((()=>{this.$message({type:"info",message:"已取消操作"})}))},approveHandler(t){this.request.handle="approve",this.noticeMsg="同意",this.handle(t)},refuseHandler(t){this.request.handle="refuse",this.noticeMsg="拒绝",this.handle(t)},deleteHandle(t){this.request.handle="delete",this.noticeMsg="删除",this.handle(t)},handle(t){this.request.id=t.oid,this.request.type=this.requestType,this.$confirm("确认"+this.noticeMsg+" id："+t.oid+" 请求?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.postRequest("/webui/request",this.request).then((t=>{t&&("ok"==t.data?(this.initRequestList(),this.$message({message:"操作成功",type:"success"})):(this.$message.error(t.data),this.initRequestList()))}))})).catch((()=>{this.$message({type:"info",message:"已取消操作"})}))}}},Ne=Re,ze=(0,_.Z)(Ne,Oe,Te,!1,null,null,null),De=ze.exports,Ae={name:"GroupRequest",components:{RequestListTemplate:De},data(){return{type:"group"}}},Fe=Ae,Be=(0,_.Z)(Fe,qe,Me,!1,null,null,null),Ve=Be.exports,Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("RequestListTemplate",{attrs:{"request-type":t.type}})],1)},Ie=[],Ge={name:"PrivateRequest",components:{RequestListTemplate:De},data(){return{type:"private"}}},He=Ge,Ue=(0,_.Z)(He,Ze,Ie,!1,null,null,null),Je=Ue.exports,We={name:"RequestManage",data(){return{activeName:"GroupRequestMana"}},components:{GroupRequestMana:Ve,PrivateRequestMana:Je}},je=We,Xe=(0,_.Z)(je,Le,Pe,!1,null,null,null),Ye=Xe.exports,Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"系统信息",name:"SystemBasicInfo"}},[i("SystemBasicInfo")],1)],1)],1)},Qe=[],ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grid-wrapper"},[i("div",{staticClass:"grid-content bg-purple"},[i("el-row",[i("SystemStatusTemplate",{attrs:{"status-type":t.type[0],getData:t.getData}})],1),i("el-row",[i("SystemStatusTemplate",{attrs:{"status-type":t.type[1],getData:t.getData}})],1),i("el-row",[i("SystemStatusTemplate",{attrs:{"status-type":t.type[2],getData:t.getData}})],1)],1),i("div",{staticClass:"grid-content bg-purple-light"},[i("SystemResourceTemplate")],1)])},ei=[],ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"echarts",style:{width:"100%",height:"338px"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}})])},si=[],ai={name:"SystemLineDrawTemplate",props:["statusType","getData"],data(){return{statusData:null,data:[],xAxisTable:[],timer:null,myChart:null,loading:!0}},mounted(){Di().then((t=>{"true"==t&&(this.initData(),this.timer=setInterval((()=>{setTimeout(this.initData)}),5e3))}))},destroyed(){clearInterval(this.timer),this.timer=null},methods:{initData(){this.statusData=this.getData(this.statusType),Array.isArray(this.statusData)&&(this.xAxisTable=this.statusData.map((t=>t.time)),this.data=this.statusData.map((t=>t.data)),null!=this.data&&(this.loading=!1),this.drawLine())},drawLine(){null==this.myChart&&(this.myChart=this.$echarts.init(this.$refs.echarts));let t="";t="cpu"==this.statusType?"CPU使用率（%）":"memory"==this.statusType?"内存使用率（%）":"硬盘使用率（%）",this.myChart.setOption({title:{text:t,top:"30",left:"32",textStyle:{fontSize:16,color:"#333",fontWeight:"500"}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{type:"dashed",color:"#808BA9"}},backgroundColor:"#fff",color:"#333",borderWidth:"1",borderColor:"#D9E1F8",textStyle:{color:"#333",fontSize:"12",lineHeight:"17"},formatter:function(t){return t[0].name+'<br><span style="margin:0 5px 2px 0;display:inline-block;width:6px;height:6px;border-radius:5px;background-color:'+t[0].color+';"></span>'+t[0].seriesName+'<span style="margin-left:10px;">'+t[0].data+"%</span>"}},legend:{icon:"circle",itemHeight:10,textStyle:{fontSize:14,color:"#333"},x:"left",y:"top",padding:[81,0,0,32]},grid:{top:"145",left:"17",right:"17",bottom:"41",containLabel:!0},xAxis:{type:"category",data:this.xAxisTable,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#666",width:"1"}},axisLabel:{formatter(t){return`{a|${t}}`},rich:{a:{height:40,color:"#666",fontSize:14}}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},boundaryGap:[.1,0],splitLine:{show:!0,lineStyle:{type:"dashed",color:"#D9E1F8"}},axisLabel:{fontSize:14,color:"#92A5E3"}},series:[{name:"使用率",type:"line",data:this.data,color:"#00C5AB",symbolSize:8}]})}}},ni=ai,li=(0,_.Z)(ni,ii,si,!1,null,null,null),ri=li.exports,oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"resbox"},[i("div",{ref:"echarts",staticStyle:{width:"100%",height:"100%"}}),i("el-drawer",{attrs:{title:t.ccw.title,visible:t.drawer},on:{"update:visible":function(e){t.drawer=e}}},[i("div",{ref:"ccwEcharts",staticStyle:{width:"100%",height:"90%"}})])],1)},ui=[],ci={name:"SystemResourceTemplate",data(){return{data:[],myChart:null,total_size:null,drawer:!1,ccw:{chart:null,data:[],title:"",total_size:0}}},mounted(){Di().then((t=>{"true"==t&&this.initData()}))},methods:{initData(){null==this.myChart&&(this.myChart=this.$echarts.init(this.$refs.echarts)),this.getRequest("/webui/system/disk").then((t=>{if(t&&200==t.code){for(var e in this.data={image:t.data.image_dir_size,text:t.data.text_dir_size,record:t.data.record_dir_size,font:t.data.font_dir_size,data:t.data.data_dir_size,log:t.data.log_dir_size,temp:t.data.temp_dir_size},t.data)"check_time"!=e&&(this.total_size+=t.data[e]);this.drawPie()}}))},drawPie(t){let e=[],i=[],s=0,a=" MB";if("ccw"==t){for(var n in this.ccw.data)"check_time"!=n&&i.push({value:(this.ccw.data[n]/this.ccw.total_size*100).toFixed(2),name:n});s=this.ccw.total_size}else s=this.total_size,e=["图片资源","文本资源","音频资源","字体资源","数据文件","日志文件","临时文件"],i=[{value:(this.data.image/this.total_size*100).toFixed(2),name:"图片资源"},{value:(this.data.text/this.total_size*100).toFixed(2),name:"文本资源"},{value:(this.data.record/this.total_size*100).toFixed(2),name:"音频资源"},{value:(this.data.font/this.total_size*100).toFixed(2),name:"字体资源"},{value:(this.data.data/this.total_size*100).toFixed(2),name:"数据文件"},{value:(this.data.log/this.total_size*100).toFixed(2),name:"日志文件"},{value:(this.data.temp/this.total_size*100).toFixed(2),name:"临时文件"}];s>1024&&(s/=1024,a=" GB");let l={tooltip:{trigger:"item",formatter:t=>{let e=0;e=-1!=["图片资源","文本资源","音频资源","字体资源","数据文件","日志文件","临时文件"].indexOf(t.name)?this.total_size:this.ccw.total_size;let i="MB",s=t.data.value*e/100;return s>1024&&(s/=1024,i="GB"),t.data.name+"<br>"+s.toFixed(2)+" "+i}},legend:{orient:"vertical",left:10,data:e},graphic:{type:"text",right:"3%",top:"13%",style:{text:"总占用空间："+s.toFixed(2)+a,textAlign:"center",fill:"#333",fontSize:20}},series:[{name:"占用空间",type:"pie",minAngle:5,radius:["30%","70%"],center:["48%","58%"],label:{formatter:"{b|{b}}\n（{c}%）\n",rich:{b:{align:"center"}}},data:i}]};"ccw"==t?this.ccw.chart.setOption(l):this.myChart.setOption(l),this.myChart.on("click",this.showFolderSize)},showFolderSize(t){if("graphic"!=t.componentType){this.drawer=!0;let e="";"字体资源"==t.name?e="font":"图片资源"==t.name?e="image":"文本资源"==t.name?e="text":"音频资源"==t.name?e="record":"数据文件"==t.name?e="data":"日志文件"==t.name?e="log":"临时文件"==t.name&&(e="temp"),this.getRequest("/webui/system/disk?type_="+e).then((e=>{if(null==this.ccw.chart&&(this.ccw.chart=this.$echarts.init(this.$refs.ccwEcharts)),e&&200==e.code){for(var i in this.ccw.title=t.name,this.ccw.data=e.data,this.ccw.total_size=0,e.data)"check_time"!=i&&(this.ccw.total_size+=e.data[i]);this.drawPie("ccw")}}))}}}},pi=ci,di=(0,_.Z)(pi,oi,ui,!1,null,null,null),hi=di.exports,mi={name:"SystemBasicInfo",components:{SystemStatusTemplate:ri,SystemResourceTemplate:hi},data(){return{type:["cpu","memory","disk"],data:null,timer:null}},mounted(){this.initStatusData(),this.timer=setInterval((()=>{setTimeout(this.initStatusData)}),5e3)},methods:{initStatusData(){this.getRequest("/webui/system/statusList").then((t=>{t&&200==t.code&&(this.data=t.data)}))},getData(t){return null==this.data?{}:"cpu"==t?this.data.cpu_data:"memory"==t?this.data.memory_data:this.data.disk_data}},destroyed(){clearInterval(this.timer),this.timer=null}},gi=mi,vi=(0,_.Z)(gi,ti,ei,!1,null,null,null),_i=vi.exports,fi={name:"SystemInfo",data(){return{activeName:"SystemBasicInfo"}},components:{SystemBasicInfo:_i}},yi=fi,bi=(0,_.Z)(yi,Ke,Qe,!1,null,null,null),wi=bi.exports;s["default"].use(c.Z);const xi=[{path:"/",name:"Login",component:y},{path:"/myapi",name:"MyApi",component:ut},{path:"/home",name:"Home",component:S,redirect:"/plugin",children:[{path:"/plugin",name:"插件列表",component:ge},{path:"/group",name:"群组管理",component:$e},{path:"/request",name:"请求管理",component:Ye},{path:"/system",name:"系统信息",component:wi}]}],ki=new c.Z({routes:xi,scrollBehavior(t,e,i){return i||{x:0,y:0}}});var Ci=ki;r().interceptors.request.use((t=>(Ni("tokenStr")&&(t.headers["Authorization"]=Ni("tokenStr")),t)),(t=>{console.log(t)})),r().interceptors.response.use((t=>{if(t.status&&200===t.status&&-1!=t.request.responseURL.search(/auth/))return t.data;if(t.status&&200===t.status){if(500==t.data.code||401==t.data.code||403==t.data.code)return void o.Message.error({message:t.data.message});t.data.message&&o.Message.success({message:t.data.message})}return t.data}),(t=>{504==t.response.code||404==t.response.code?o.Message.error({message:"服务器被吃了┭┮﹏┭┮"}):405==t.response.status||500==t.response.code?o.Message.error({message:"真寻的api地址不正确捏"}):401==t.response.status?("Could not validate credentials"==t.response.data.detail?o.Message.error({message:"用户名或密码错误"}):o.Message.error({message:"尚未登录，请登录"}),Ci.replace("/")):422==t.response.status?o.Message.error({message:"修改的数据类型返回错误"}):o.Message.error({message:"未知错误"})}));let Si="";const Ei=t=>{"/"!=t[t.length-1]&&"\\"!=t[t.length-1]||(t=t.slice(0,-1)),""!=t?(Si=t,Oi(Si)):(Si="http://localhost:8080",Oi(Si))},$i=()=>Si,Li=(t,e)=>r()({method:"post",url:`${Si}${t}`,data:e}),Pi=(t,e)=>r()({method:"put",url:`${Si}${t}`,data:e}),qi=(t,e)=>r()({method:"get",url:`${Si}${t}`,data:e}),Mi=(t,e)=>r()({method:"delete",url:`${Si}${t}`,data:e}),Oi=t=>{localStorage.setItem("baseUrl",t)},Ti=()=>localStorage.getItem("baseUrl"),Ri=(t,e)=>{var i=7,s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),document.cookie=t+"="+encodeURI(e)+";expires="+s.toGMTString()},Ni=t=>{var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return document.cookie.match(i)?(e=document.cookie.match(i),decodeURI(e[2])):null},zi=t=>{Ri(t,"",-1)},Di=()=>{let t=Ci.currentRoute.path;return new Promise((e=>{Ni("tokenStr")?Li("/webui/auth",{token:Ni("tokenStr")}).then((i=>{i?200==i.code?(Ci.replace("/"==t||void 0==t?"/home":t),e("true")):(o.Message.error({message:"身份信息过期或错误"}),zi("tokenStr"),"/"!=t&&Ci.replace("/"),e("false")):("/"!=t&&Ci.replace("/"),e("false"))})).catch((()=>{"/"!=t&&Ci.replace("/"),o.Message.error({message:"真寻酱的api请求不了捏"}),e("false")})):("/"!=t&&Ci.replace("/"),e("false"))}))};var Ai={name:"App",created(){Ti()&&Ei(Ti())},components:{}},Fi=Ai,Bi=(0,_.Z)(Fi,a,n,!1,null,null,null),Vi=Bi.exports,Zi=i(7968),Ii=i.n(Zi);s["default"].use(Ii());var Gi=new(Ii().Store)({state:{}}),Hi=i(2261);i(184);s["default"].use(u()),s["default"].config.productionTip=!1,s["default"].prototype.postRequest=Li,s["default"].prototype.putRequest=Pi,s["default"].prototype.getRequest=qi,s["default"].prototype.deleteRequest=Mi,s["default"].prototype.$echarts=Hi,new s["default"]({router:Ci,store:Gi,render:t=>t(Vi)}).$mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var l=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var r=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[o])}))?s.splice(o--,1):(r=!1,n<l&&(l=n));if(r){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,l=s[0],r=s[1],o=s[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(o)var c=o(i)}for(e&&e(s);u<l.length;u++)n=l[u],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(c)},s=self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6974)}));s=i.O(s)})();